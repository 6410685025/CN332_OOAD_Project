{% extends "base.html" %}

{% block page_title %}Community Announcements{% endblock %}

{% block content %}
<h2 class="mb-1">Community Announcements</h2>
<p class="text-secondary mb-4">Stay updated with the latest news and information from your community</p>

<div class="d-flex gap-2 mb-4">
  <div class="input-group flex-grow-1" style="max-width: 400px;">
    <span class="input-group-text bg-white"><i class="bi bi-search text-muted"></i></span>
    <input type="search" class="form-control" placeholder="Search announcements...">
  </div>
  <select class="form-select" style="width: auto;">
    <option>All Categories</option>
  </select>
</div>

{% for a in announcements %}
<div class="card mb-3">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-start flex-wrap gap-2">
      <div>
        <span class="badge-pill bg-info me-2 small">General</span>
        <h5 class="card-title mb-1 mt-1">{{ a.title }}</h5>
      </div>
      <small class="text-muted">{{ a.publish_date|date:"M d, Y" }}</small>
    </div>
    <p class="card-text text-secondary mt-2">{{ a.content|truncatewords:25 }}</p>
    <small class="text-muted"><i class="bi bi-person me-1"></i>{% if a.author %}{{ a.author.user.get_full_name|default:a.author.user.username }}{% else %}Management{% endif %}</small>
    <a href="#" class="btn btn-link btn-sm p-0 mt-2">Read more <i class="bi bi-arrow-right"></i></a>
  </div>
</div>
{% empty %}
<div class="card">
  <div class="card-body text-center py-5">
    <i class="bi bi-megaphone display-4 text-muted"></i>
    <p class="text-muted mt-2 mb-0">No announcements yet</p>
  </div>
</div>
{% endfor %}
{% endblock %}
